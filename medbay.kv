<MedbayRoot>:
    orientation: "vertical"
    
    ActionBar:
        ActionView:
            ActionPrevious:
                title:""
                with_previous: False
            ActionOverflow:
                ActionButton:
                    text: "Settings"
                    on_press: app.open_settings()
                    
    ScreenManager:
        id: kivy_screen_manager
        StartScreen:
            name: "start_screen"
        Screen2:
            name: "screen_2"
        Screen3:
            name: "screen_3"
        Screen4:
            name: "screen_4"
        Screen5:
            name: "screen_5"
        Screen6:
            name: "screen_6"
        Screen7:
            name: "screen_7"
        Screen8:
            name: "screen_8"
        PassPopup
            name: "pass_popup"
        AddInfopop:
            name: "addinfo_popup"
        NoInfo:
            name: "noinfoempty_popup"    
<StartScreen@Screen>:
    BoxLayout:
        orientation: "vertical"
        padding: root.width * .02, root.height *.02
        spacing: min(root.width, root.height) * .02

        Label:
            text: "Medbay"
            color: 0,0,0,1
            font_size: 30
        Button:
            text: "Sign in"
            on_press: root.movescreenSto2()
            width: 80
            height:40
        Button:
            text: "New User"
            on_press: root.movescreenSto3()
            width: 80
            height: 40

<Screen2@Screen>:
    name_input: name_sign
    pass_input: pass_sign
    BoxLayout:
        orientation: "vertical"
        padding: root.width * .02, root.height *.02
        spacing: min(root.width, root.height) * .02

        Label:
            text: "Medbay"
            color: 0,0,0,1
            font_size: 30
        Label:
            text: "Name"
            color: 0,0,0,1
            font_size: 20
        TextInput:
            id: name_sign
        Label:
            text: "Password"
            color: 0,0,0,1
            font_size: 20
        TextInput:
            id: pass_sign
        Button:
            text: "Enter"
            on_press: root.usernamepass('name_input')
            on_release:root.movescreen2to4('name_input','pass_input')
        Button:
            text: "Cancel"
            on_press: root.manager.current = 'start_screen'

<PassPopup@Screen>:
    BoxLayout:
    	orientation: "vertical"
    	padding: root.width * .02, root.height * .02
    	spacing: min(root.width, root.height) * .02
    	Label:
    	    text: "The username or password is incorrect"
    	    color: 0,0,0,1
    	    halign: "center"
    	    font_size: root.height / 10
    	    text_size: self.width, None
    	    center_y: .5
    	Button:
    	    text: "Close"
    	    size_hint: 1, None
    	    height: root.height / 8
    	    on_press: root.movetoscreen2()
    	    
<AddInfopop@Screen>:
    BoxLayout:
    	orientation: "vertical"
    	padding: root.width * .02, root.height * .02
    	spacing: min(root.width, root.height) * .02
    	Label:
    	    text: "Passwords do not match"
    	    color: 0,0,0,1
    	    halign: "center"
    	    font_size: root.height / 10
    	    text_size: self.width, None
    	    center_y: .5
    	Button:
    	    text: "Close"
    	    size_hint: 1, None
    	    height: root.height / 8
    	    on_press: root.movetoscreen3() 
    	    
<NoInfo@Screen>:
    BoxLayout:
    	orientation: "vertical"
    	padding: root.width * .02, root.height * .02
    	spacing: min(root.width, root.height) * .02
    	Label:
    	    text: "No accounts avaiable"
    	    color: 0,0,0,1
    	    halign: "center"
    	    font_size: root.height / 10
    	    text_size: self.width, None
    	    center_y: .5
    	Button:
    	    text: "Close"
    	    size_hint: 1, None
    	    height: root.height / 8
    	    on_press: root.movetoscreen3()
    	    
<Screen3@Screen>:
    add_name1: add_name
    add_pass1: add_pass
    chk_pass1: chk_pass
    add_num1: add_num
    add_cont1: add_cont
    BoxLayout:
        orientation: "vertical"
        padding: root.width * .02, root.height *.02
        spacing: min(root.width, root.height) * .02

        Label:
            text: "Create Account"
            font_size: 30
            color: 0,0,0,1
        Label:
            text: "Name"
            color: 0,0,0,1
            font_size: 20
        TextInput:
            id: add_name
        Label:
            text: "Password"
            color: 0,0,0,1
            font_size: 20
        TextInput:
            id: add_pass
        Label:
            text: "Verify Password"
            color: 0,0,0,1
            font_size: 20
        TextInput:
            id: chk_pass
        Label:
            text: "Phone Number"
            color: 0,0,0,1
            font_size: 20
        TextInput:
            id: add_num
        Label:
            text: "Emergency Contact"
            color: 0,0,0,1
            font_size: 20
        TextInput:
            id: add_cont
        Button:
            text: "Save"
            on_press: root.moveinfo('add_name1','add_pass1','chk_pass1','add_num1','add_cont1')
            on_release: root.userempty()
        Button:
            text: "Cancel"
            on_press: root.manager.current = 'start_screen'

<Screen4@Screen>:
    BoxLayout:
        orientation: "vertical"
        padding: root.width * .02, root.height *.02
        spacing: min(root.width, root.height) * .02

        Label:
            text: app.greeting
            font_size: 30
            color: 0,0,0,1
        Button:
            text: "Add Pills"
            on_press: root.movescreen4to5()
        Button:
            text: "Set Schedule"
            on_press: root.movescreen4to8()
        Button:
            text: "Dispense Pills"
            on_press: root.movescreen4to7()
        Button:
            text: "View Schedule"
        Button:
            text: "Main Menu"
            on_press: root.movescreen4toS()

<Screen5@Screen>:
    BoxLayout:
        orientation: "vertical"
        padding: root.width * .02, root.height *.02
        spacing: min(root.width, root.height) * .02

        Label:
            text: "Medbay"
            font_size: 30
            color: 0,0,0,1
        Label:
            text: "Scan Barcode"
            color: 0,0,0,1
            font_size: 20
        Button:
            text: "Manually Enter Pill Information"
            on_press: root.manager.current = 'screen_6'
            

<Screen6@Screen>:
    orientation: "vertical"
    search_input: search_box
    
    BoxLayout:
        orientation: "vertical"
        padding: root.width * .02, root.height *.02
        spacing: min(root.width, root.height) * .02
        Label:
            text: "Enter Pill Information"
            font_size: 30
            color: 0,0,0,1
        Label:
            text: "Pill Name"
            color: 0,0,0,1
            font_size: 20
        TextInput:
            id: search_box
        Label:
            text: "Amount Of Pills"
            color: 0,0,0,1
            font_size: 20
        TextInput:
        Label:
            text: "Dosage"
            color: 0,0,0,1
            font_size: 20
        TextInput:
        Button:
            text: "Save"
            on_press: root.search_gtin()
        Button:
            text: "Cancel"
            on_press: root.manager.current = 'screen_4'
    
        
<Screen7@Screen>:
    name: 'DropDown'
    __safe_id: [dropdown.__self__]
    BoxLayout:
        orientation: "vertical"
        Label:
            text: "Dispense Pill"
            font_size: 30
            color: 0,0,0,1
        Button:
            id: btn
            text: 'Select Pill'
            on_release: dropdown.open(self)
            size_hint_y: None
            height: '48dp'
        Label:
            text: "Amount of Pills"
            color: 0,0,0,1
        TextInput:
        Button:
            text: "Dispense"
        Button:
            text: "Cancel"
            on_press: root.manager.current = 'screen_4'
        
    DropDown:
        
        id: dropdown
        on_parent: self.dismiss()
        on_select: btn.text = 'Selected Pill: {}'.format(args[1])

        Button:
            text: app.pill1
            on_release: dropdown.select('1')
            size_hint_y: None
            height: '48dp' 

        Button:
            text: app.pill2
            on_release: dropdown.select('2')
            size_hint_y: None
            height: '48dp'
        Button:
            text: app.pill3
            on_release: dropdown.select('3')
            size_hint_y: None
            height: '48dp'
        Button:
            text: app.pill4
            on_release: dropdown.select('4')
            size_hint_y: None
            height: '48dp'  
        Button:
            text: app.pill5
            on_release: dropdown.select('5')
            size_hint_y: None
            height: '48dp'
        Button:
            text: app.pill6
            on_release: dropdown.select('6')
            size_hint_y: None
            height: '48dp' 
        Button:
            text: app.pill7
            on_release: dropdown.select('7')
            size_hint_y: None
            height: '48dp'
        Button:
            text: app.pill8
            on_release: dropdown.select('8')
            size_hint_y: None
            height: '48dp'
        Button:
            text: app.pill9
            on_release: dropdown.select('9')
            size_hint_y: None
            height: '48dp'
        Button:
            text: app.pill10
            on_release: dropdown.select('10')
            size_hint_y: None
            height: '48dp'
        Button:
            text: app.pill11
            on_release: dropdown.select('11')
            size_hint_y: None
            height: '48dp'
        Button:
            text: app.pill12
            on_release: dropdown.select('12')
            size_hint_y: None
            height: '48dp'
        Button:
            text: app.pill13
            on_release: dropdown.select('13')
            size_hint_y: None
            height: '48dp'
    
    
<Screen8@Screen>:
    fullscreen: True
    name: 'DropDown'
    
    __safe_id: [dropdown.__self__]

    BoxLayout:
        orientation: "vertical"
        Label:
            text: "Set Schedule"
            font_size: 30
            color: 0,0,0,1
        Label:
            text: "Select Pill"
        Button:
            id: btn
            text: 'Select Pill'
            on_release: dropdown.open(self)
            size_hint_y: None
            height: '48dp'
        Label:
            text: "Select Amount"
            color: 0,0,0,1
        TextInput:
            size_hint_y: None

    GridLayout:
        cols:14
        CheckBox:
            size_hint_y: None
            height: '48dp'
            size_hint_y: None
        Label:
            text: 'Sunday'
            color: 0,0,0,1
        CheckBox:
            size_hint_y: None
            height: '48dp'
            size_hint_y: None
        Label:
            text: 'Monday'
            color: 0,0,0,1
        CheckBox:
            size_hint_y: None
            height: '48dp'
            size_hint_y: None
        Label:
            text: 'Tuesday'
            color: 0,0,0,1
        CheckBox:
            size_hint_y: None
            height: '48dp'
            size_hint_y: None
        Label:
            text: 'Wednesday'
            color: 0,0,0,1
        CheckBox:
            size_hint_y: None
            height: '48dp'
            size_hint_y: None
        Label:
            text: 'Thursday'
            color: 0,0,0,1
        CheckBox:
            size_hint_y: None
            height: '48dp'
            size_hint_y: None
        Label:
            text: 'Friday'
            color: 0,0,0,1
        CheckBox:
            size_hint_y: None
            height: '48dp'
            size_hint_y: None
        Label:
            text: 'Saturday'
            color: 0,0,0,1
    BoxLayout:      
        Button:
            text: "Save"
            size_hint_y: None
            height: '48dp' 
        Button:
            text: "Cancel"
            size_hint_y: None
            height: '48dp'
            on_press: root.manager.current = 'screen_4'
            
    DropDown:
        
        id: dropdown
        on_parent: self.dismiss()
        on_select: btn.text = 'Selected Pill: {}'.format(args[1])

        Button:
            text: 'Pill 1'
            on_release: dropdown.select('1')
            size_hint_y: None
            height: '48dp' 

        Button:
            text: 'Pill 2'
            on_release: dropdown.select('2')
            size_hint_y: None
            height: '48dp'
        Button:
            text: 'Pill 3'
            on_release: dropdown.select('3')
            size_hint_y: None
            height: '48dp'
        Button:
            text: 'Pill 4'
            on_release: dropdown.select('4')
            size_hint_y: None
            height: '48dp'  
        Button:
            text: 'Pill 5'
            on_release: dropdown.select('5')
            size_hint_y: None
            height: '48dp'
        Button:
            text: 'Pill 6'
            on_release: dropdown.select('6')
            size_hint_y: None
            height: '48dp' 
        Button:
            text: 'Pill 7'
            on_release: dropdown.select('7')
            size_hint_y: None
            height: '48dp'
        Button:
            text: 'Pill 8'
            on_release: dropdown.select('8')
            size_hint_y: None
            height: '48dp'
        Button:
            text: 'Pill 9'
            on_release: dropdown.select('9')
            size_hint_y: None
            height: '48dp'
        Button:
            text: 'Pill 10'
            on_release: dropdown.select('10')
            size_hint_y: None
            height: '48dp'
        Button:
            text: 'Pill 11'
            on_release: dropdown.select('11')
            size_hint_y: None
            height: '48dp'
        Button:
            text: 'Pill 12'
            on_release: dropdown.select('12')
            size_hint_y: None
            height: '48dp'
        Button:
            text: 'Pill 13'
            on_release: dropdown.select('13')
            size_hint_y: None
            height: '48dp'